#: import SlideTransition kivy.uix.screenmanager.SlideTransition

<MainLayout>:
    screen_manager: screen_manager
    ScreenManager:
        id: screen_manager
        timestamp: ""
        daystamp: ""
        mail_address: ""
        transition: SlideTransition()
        LoginScreen:
            id: login_screen
        CaptureScreen:
            id: capture_screen
        PendingScreen:
            id: pending_screen
		ScreenSaver:
			id: screen_saver

<LoginScreen>:
    name: 'login'
    BoxLayout:
        orientation: 'vertical'
        padding: 20  # Border around the widgets inside this boxlayout
        spacing: 15  # Spacing between the widgets inside this boxlayout
        Label:
            font_size: 30
            text: "Bitte hier Ihre Email-Adresse angeben:"
            size_hint_y: .3  # => 30% of normal size (LoginScreen.height/4*0.3)
        TextInput:
            id: mail_input
            font_size: 30
            multiline: False
            text: "marc@braendli.ch"
            size_hint_y: None  # Must set to None to honor height property
            height: 50
        Button:
            size_hint_y: .2
            font_size: 30
            text: "Weiter"
            on_press:
                root.next(mail_input.text)
        Widget:  # Dummy widgets which just acts as spacer

<CaptureScreen>:
    name: 'capture'
    float_layout: float_layout
    FloatLayout:
        id: float_layout


<StartButton@AnchorLayout>:
    padding: 0, 10
    anchor_x: 'center'
    anchor_y: 'bottom'
    action: None
    Button:
        size_hint: None, None
        size: 300, 100
		font_size: 30
        text: "Start"
        on_press:
            root.action()

<Countdown>:
    count: 1
    action: None
    BoxLayout:
        size_hint: 0.3, 0.3
        canvas.before:
            Color:
                rgba: 0,0,0,.5
            Rectangle:
                size: self.size
                pos: self.pos
        Label:
            font_size: 45
            bold: True
            text: str(root.count)


<PendingScreen@Screen>:
    name: 'pending'
    shown_text: ""
    BoxLayout:
        Label:
			font_size: 30
            text: root.shown_text
        Button:
            text: "okay"
            on_press:
                root.show_screen_saver()

<ScreenSaver>:
	name: 'screen_saver'
	Button:
        text: "okay"
        on_press:
            root.show_login()